<template>
	<div class="destination" id="destination">
		<h1 class="heading">Our destinations</h1>
		<div class="destination__svg">
			<svg
				id="svg"
				viewBox="0 0 1440 400"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
				preserveAspectRatio="xMidYMid meet">
				<defs></defs>
				<path
					id="path"
					d="M 34.197 64.446 C 147.517 68.941 316.178 196.871 400.623 196.871 C 485.068 196.871 576.246 90.033 688.097 90.033 C 799.948 90.033 947.269 207.244 1012.25 207.244 C 1108.078 207.244 1347.551 90.033 1347.551 90.033"
					stroke="white"
					stroke-width="2"
					style=""></path>
				<g id="plane" transform="matrix(1, 0, 0, 1, 81.389375, 31.035473)">
					<circle cx="94" cy="36" r="36" fill="white"></circle>
					<circle cx="94" cy="36" r="30" fill="#CEECEF"></circle>
					<path
						d="M99.595 41.2987L100.206 42.9187C100.206 42.9187 99.2687 43.365 99.385 44.7037C99.5012 46.0425 100.502 46.7925 101.357 46.9087C102.415 47.055 103.259 45.9937 103.071 44.7712C102.884 43.5487 102.04 42.8475 102.04 42.8475L102.017 41.4375L99.595 41.2987Z"
						fill="#858585"></path>
					<path
						d="M80.7512 22.11C80.7737 21.9862 82.2625 20.6437 83.335 19.7737C84.4112 18.9037 85.045 18.3 85.3 18.3075C85.5775 18.3112 86.4175 18.7837 86.995 19.1137C87.4937 19.3987 88.1725 19.8375 88.1725 19.8375L87.0962 21.7387C87.0962 21.7387 83.2712 26.3287 83.2075 26.2875C83.1512 26.2462 80.7512 22.11 80.7512 22.11Z"
						fill="#00C1E9"></path>
					<path
						d="M83.3574 25.3575C83.3574 25.3575 85.3637 22.8975 86.2937 21.8625C87.2237 20.8275 88.1762 19.8375 88.1762 19.8375C88.1762 19.8375 88.5474 20.025 88.5287 20.3963C88.5062 20.7675 88.3412 21.0563 88.0937 21.39C87.8462 21.72 84.3924 26.1675 84.3924 26.1675L83.3574 25.3575Z"
						fill="#0D9ABB"></path>
					<path
						d="M98.2336 28.6388C98.2336 28.6388 111.591 16.3613 111.76 16.305C111.929 16.2488 112.51 16.3613 113.395 16.6388C114.284 16.9163 115.806 17.6363 115.78 17.8013C115.754 17.9663 115.585 18.855 115.585 18.855C115.585 18.855 104.954 35.7863 104.234 34.845C103.514 33.9037 98.2336 28.6388 98.2336 28.6388Z"
						fill="#00C1E9"></path>
					<path
						d="M104.744 33.7275C104.744 33.7275 115.184 18.5363 115.341 18.3375C115.574 18.0413 115.386 17.6813 115.131 17.4038C114.872 17.1225 114.662 17.0513 114.662 17.0513C114.662 17.0513 115.502 17.3663 115.877 17.6138C116.297 17.8875 116.627 18.1988 116.556 18.5025C116.485 18.8063 105.752 35.1262 105.707 35.0325C105.662 34.9387 104.744 33.7275 104.744 33.7275Z"
						fill="#0D9ABB"></path>
					<path
						d="M75.5726 15.7538C75.5726 15.7538 75.2501 15.5025 75.0701 15.7163C74.8901 15.93 76.6863 26.0625 76.6863 26.0625L80.9951 29.0438L91.0151 38.0588L100.315 41.7525L102.49 42.4613C102.49 42.4613 104.545 41.0625 104.545 40.9762C104.545 40.89 102.408 34.3275 102.408 34.3275L82.5926 26.9288L75.5726 15.7538Z"
						fill="#9A9A9A"></path>
					<path
						d="M79.5137 17.7975C79.1199 17.3662 75.5762 15.7537 75.5762 15.7537L80.9987 27.48L81.7112 28.2788C81.7112 28.2788 84.0212 30.6112 86.4474 32.4375C88.8737 34.2637 90.9212 35.0887 92.6799 36.015C94.8324 37.1475 96.5987 37.7212 98.0049 38.3325C99.7149 39.0787 101.215 39.495 101.976 40.5112C102.674 41.4412 102.49 42.4613 102.49 42.4613C102.49 42.4613 103.911 43.11 105.651 43.5075C107.391 43.9087 111.186 44.3925 112.157 42.1087C113.129 39.825 111.756 37.485 108.449 35.5162C105.141 33.5475 103.626 33.2325 103.626 33.2325L102.711 30.6937C102.711 30.6937 100.315 28.6987 98.8037 28.125C97.2924 27.555 90.9287 26.4113 90.9287 26.4113L83.5112 25.5262C83.5074 25.53 79.8249 18.1425 79.5137 17.7975Z"
						fill="#C8C8C8"></path>
					<path
						d="M90.0699 26.8162C89.8711 27.195 90.0999 27.5287 91.9824 28.0987C93.7524 28.635 94.6636 29.01 95.6349 29.4112C96.6061 29.8125 97.9749 30.6112 98.7436 30.8362C99.5124 31.065 100.457 31.1513 100.997 30.465C101.324 30.0525 100.941 29.295 99.7974 28.6088C98.6536 27.9225 97.1424 27.3525 94.6899 26.895C92.2374 26.445 90.3549 26.2725 90.0699 26.8162Z"
						fill="#E0E0E0"></path>
					<path
						d="M76.4761 25.0875C76.2511 25.1325 71.6574 30.33 71.5936 30.525C71.5299 30.72 72.0174 31.3725 72.0174 31.3725L74.6236 32.5125L82.2774 27.1725C82.2736 27.1725 76.8024 25.0238 76.4761 25.0875Z"
						fill="#00C1E9"></path>
					<path
						d="M71.5938 30.525C71.5938 30.525 74.1888 31.8075 74.7101 31.7438C75.2313 31.68 82.2888 27.1725 82.2888 27.1725C82.2888 27.1725 82.9976 27.66 82.5813 28.2C82.1651 28.7363 75.5388 33.0413 74.7813 32.9925C74.1438 32.9513 71.6313 31.8563 71.5038 31.5488C71.2376 30.8888 71.5938 30.525 71.5938 30.525Z"
						fill="#0D9ABB"></path>
					<path
						d="M90.3324 37.3913C89.9949 37.515 86.7887 41.5463 86.0012 42.495C85.3074 43.3313 77.4287 52.5075 77.1924 52.95C76.9562 53.3925 77.5749 53.9513 77.5749 53.9513L81.9999 55.7212L96.2762 43.9875L99.3624 39.9263C99.3624 39.9263 97.3037 38.7375 94.7949 38.175C92.2862 37.6125 90.6587 37.275 90.3324 37.3913Z"
						fill="#00C1E9"></path>
					<path
						d="M99.3587 39.9263C99.3587 39.9263 82.5325 54.855 82.1462 54.9525C81.8425 55.0275 80.2712 54.6113 78.97 53.9888C77.86 53.46 77.1962 52.95 77.1962 52.95C77.1962 52.95 76.7237 53.4825 77.3125 54.3075C77.9012 55.1325 81.3512 56.5763 81.97 56.49C82.5887 56.4 83.59 55.3987 84.445 54.69C85.3 53.9812 100.191 41.2725 100.191 41.2725C100.191 41.2725 100.176 40.8037 99.985 40.5075C99.7225 40.095 99.3587 39.9263 99.3587 39.9263Z"
						fill="#0D9ABB"></path>
					<path
						d="M91.0039 38.58C90.5389 38.3475 90.0101 38.9325 89.5601 39.51C89.1101 40.0875 80.3164 50.5837 80.0276 50.97C79.7389 51.3562 79.5139 51.7725 79.9301 52.0275C80.3464 52.2825 80.7664 51.8363 81.1489 51.3525C81.5351 50.8725 90.7451 39.8925 91.0039 39.6037C91.2626 39.315 91.6451 38.9025 91.0039 38.58Z"
						fill="#B4DDFA"></path>
					<path
						d="M87.535 29.4938C87.2463 29.3738 87.0063 29.5613 86.9838 29.88C86.9613 30.1988 87.0925 31.4175 87.1563 31.6013C87.2238 31.8 89.8338 33.2737 90.0438 33.2737C90.1375 33.2737 90.0325 32.565 89.9763 31.965C89.8975 31.125 89.8563 30.5363 89.7625 30.39C89.6988 30.2888 87.7863 29.5988 87.535 29.4938ZM91.3263 30.87C90.8838 30.7237 91.0075 30.9375 91.0188 31.2975C91.0225 31.4887 91.3 33.645 91.3225 33.7913C91.345 33.9375 91.3525 34.14 91.81 34.3613C92.2938 34.5975 94.495 35.7375 94.7088 35.8425C94.9188 35.9475 94.9825 35.6325 94.9188 35.2087C94.855 34.785 94.5663 32.4675 94.4838 32.3175C94.4013 32.1675 91.57 30.9525 91.3263 30.87ZM96.0925 32.8312C95.86 32.745 95.7175 32.91 95.785 33.2213C95.8338 33.4538 96.3138 36.225 96.355 36.4575C96.3963 36.69 96.6513 36.8812 96.9888 37.0275C97.3263 37.1737 99.4413 38.1713 99.6963 38.2125C99.9513 38.2538 100.034 37.9163 99.8875 37.4738C99.7413 37.0312 99.1225 35.0212 98.4963 34.1962C97.9975 33.5362 96.64 33.0337 96.0925 32.8312ZM102.449 30.7725C102.265 30.9038 102.014 31.185 101.354 31.7925C100.593 32.49 99.7488 32.8987 99.7788 33.3525C99.8013 33.75 100.191 34.5262 100.713 35.595C101.208 36.6075 101.68 37.6312 101.834 37.86C102.153 38.325 102.786 38.475 103.274 38.1338C103.761 37.7925 104.331 37.3725 104.988 36.5887C105.644 35.805 105.835 35.34 105.813 34.6838C105.79 34.0275 103.071 31.0575 102.944 30.8887C102.813 30.72 102.681 30.6038 102.449 30.7725Z"
						fill="#3B5361"></path>
					<path
						d="M110.35 48.4275C110.71 48.87 113.744 47.0512 115.349 44.2612C116.849 41.6512 117.685 38.355 116.684 38.3287C115.683 38.3025 115.855 40.1662 115.439 41.5837C115.18 42.4687 114.565 44.265 112.87 45.93C111.194 47.5838 109.998 47.9887 110.35 48.4275ZM113.886 34.5C114.059 34.785 111.719 35.1937 109.304 38.4712C106.743 41.9437 106.908 43.6837 106.889 44.3025C106.863 45.2175 106.679 46.08 106.056 45.885C105.625 45.75 105.325 44.9062 105.88 42.5737C106.435 40.2412 108.066 37.5075 109.896 36.1162C112.45 34.17 113.721 34.2225 113.886 34.5Z"
						fill="#E1E0DF"></path>
					<path
						d="M111.944 39.72C111.944 39.72 112.36 38.1075 113.414 36.6375C114.468 35.1675 115.469 34.3875 115.859 34.4175C116.249 34.4437 116.414 34.7212 116.414 34.7212L113.553 40.6762C113.553 40.6762 113.766 40.9387 113.954 41.2462C114.183 41.625 113.83 42.2175 113.83 42.2175L111.25 42.885L107.388 48.7162C107.388 48.7162 106.72 48.6037 106.776 47.8012C106.833 46.995 107.414 45.4388 108.359 44.2425C109.304 43.0462 110.65 42.4575 110.65 42.4575L110.86 41.6625C110.86 41.6625 110.466 41.2687 110.721 40.6612C111.051 39.8737 111.944 39.72 111.944 39.72Z"
						fill="#799FAE"></path>
					<path
						d="M112.836 40.0988C112.836 40.0988 113.069 40.2675 113.238 40.3988C113.406 40.53 113.583 40.7063 113.583 40.7063C113.583 40.7063 114.805 39.2775 115.495 37.86C116.118 36.5812 116.849 34.9688 116.418 34.7213C115.983 34.4738 114.505 36.5812 113.958 37.6162C113.406 38.6512 112.836 40.0988 112.836 40.0988ZM110.721 40.665C110.721 40.665 111.033 41.7563 111.948 42.015C113.103 42.3375 113.958 41.2388 113.958 41.2388C113.958 41.2388 114.441 41.9662 114.239 42.5737C114.025 43.2075 112.821 43.4925 112.334 43.515C111.846 43.5338 111.464 43.4962 111.464 43.4962C111.464 43.4962 110.935 45.2175 110.005 46.5787C109.188 47.7712 107.823 49.0613 107.395 48.7238C106.968 48.3863 107.928 46.7175 108.588 45.69C109.458 44.3325 110.819 43.1775 110.819 43.1775C110.819 43.1775 110.493 42.75 110.433 42.1238C110.346 41.265 110.721 40.665 110.721 40.665Z"
						fill="#40717A"></path>
				</g>
			</svg>
		</div>
		<div class="container">
			<div class="place place-1">
				<div class="place__content">
					<h3 class="heading-3">Tashkent</h3>
					<p class="text-size-medium">
						Tashkent, the vibrant capital of Uzbekistan, seamlessly blends modernity
						with rich cultural heritage. Explore its bustling markets, exquisite
						mosques, and Soviet-era architecture. Key attractions include the Khast Imam
						Complex, Chorsu Bazaar, and the beautiful Amir Timur Square.
					</p>
				</div>
				<img class="img img-1" src="@/assets/destination-1.jpg" alt="img" />
				<img class="img img-2" src="@/assets/destination-2.jpg" alt="img" />
				<img class="img img-3" src="@/assets/destination-3.jpg" alt="img" />
			</div>
			<div class="place place-2">
				<div class="place__content">
					<h3 class="heading-3">Soul Society</h3>
					<p class="text-size-medium">
						Soul Society is a fictional town in the Bleach universe. It is a beautiful
						and peaceful town, with a mix of modern and traditional architecture. The
						town is home to the Shinigami, a group of powerful beings who protect the
						world from evil spirits.
					</p>
				</div>
				<img class="img img-4" src="@/assets/about-img-1.jpeg" alt="img" />
				<img class="img img-5" src="@/assets/about-img-2.jpeg" alt="img" />
				<img class="img img-6" src="@/assets/about-img-3.jpeg" alt="img" />
			</div>
			<div class="place place-3">
				<div class="place__content">
					<h3 class="heading-3">Karakura Town</h3>
					<p class="text-size-medium">
						Karakura Town is a fictional town in the Bleach universe. It is located in
						Japan and is the main setting for the series. The town is home to many
						powerful beings, including Ichigo Kurosaki, a high school student who became
						a Shinigami, and his friends, Orihime Inoue, Yasutora "Chad" Sado, and Uryuu
						Ishida.
					</p>
				</div>
				<img class="img img-7" src="@/assets/grid-img-1.jpeg" alt="img" />
				<img class="img img-8" src="@/assets/grid-img-1.webp" alt="img" />
				<img class="img img-9" src="@/assets/grid-img-2.webp" alt="img" />
			</div>
		</div>
	</div>
</template>

<script setup>
import gsap from 'gsap';
import { MotionPathPlugin } from 'gsap/MotionPathPlugin';
import { ScrollTrigger } from 'gsap/ScrollTrigger';
import { onMounted } from 'vue';

gsap.registerPlugin(MotionPathPlugin, ScrollTrigger);

onMounted(() => {
	gsap.set('#plane', { xPercent: -50, yPercent: -50, transformOrigin: '50% 50%' });
	gsap.to('#plane', {
		motionPath: {
			path: '#path',
			align: '#path',
			autoRotate: true
		},
		scrollTrigger: {
			trigger: '#destination',
			start: 'top top',
			end: '+=2000',
			pin: true,
			scrub: 1
		}
	});
	const places = gsap.utils.toArray('.place');
	places.forEach(place => {
		gsap.to(place, {
			xPercent: -200,
			scrollTrigger: {
				trigger: '#destination',
				start: 'top top',
				end: '+=2000',
				scrub: 1,
				snap: 1 / (places.length - 1)
			}
		});
	});
});
</script>

<style lang="scss" scoped>
.destination {
	position: relative;
	background-color: #ceecef;
	overflow: hidden;
	padding: 3rem;
	padding-top: 10rem;
	min-height: 100vh;
	display: flex;
	flex-direction: column;

	h1 {
		text-align: center;
	}

	&__svg {
		display: flex;
		align-items: center;
		justify-content: center;
		flex-grow: 1;
		z-index: 2;
		text {
			background: red;
			fill: #000;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
		}
	}
}
.container {
	position: absolute;
	inset: 0;
	display: flex;
	width: 100vw;
	& > * {
		flex-shrink: 0;
		width: 100vw;
		height: 100vh;
	}
}
.place {
	top: 0;
	&__content {
		p {
			max-width: 50ch;
		}
	}
	display: flex;
	align-items: center;
	justify-content: flex-end;

	&__content {
		display: flex;
		gap: 25rem;
		flex-direction: column;
		z-index: 2;
		@media only screen and (max-width: 1200px) {
			gap: 15rem;
		}
		@media only screen and (max-width: 768px) {
			gap: 7rem;
		}
	}
}
.img {
	position: absolute;
	width: clamp(120px, 30vw, 35rem);
	height: clamp(150px, 40vw, 40rem);
	object-fit: cover;

	&-1 {
		top: 5%;
		left: 28.6rem;
	}
	&-2 {
		top: 20%;
		left: 9.6rem;
	}
	&-3 {
		bottom: 5%;
		left: 40rem;
	}
	&-4 {
		top: 24rem;
		left: 10rem;
	}
	&-5 {
		top: 20rem;
		left: 40rem;
	}
	&-6 {
		bottom: 5%;
		left: 25rem;
	}
	&-7 {
		bottom: 15%;
		left: 40rem;
	}
	&-8 {
		top: 35%;
		left: 10rem;
		z-index: 1;
	}
	&-9 {
		top: 9%;
		left: 30rem;
	}
}
</style>
